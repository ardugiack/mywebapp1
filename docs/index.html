<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Maven+Pro">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <title>Trova lavoro velocemente</title>
  
<style>


     body {
      padding: 0;
      margin: 0;
      font-family: 'Maven Pro', sans-serif;
      background-color: #1e1f23;
     
   }

   /* CLASSI CON ID */

   #access_screen{
  font-family: 'Maven Pro';
  background-color: #1e1f23;
      display: flex;
      flex-direction: column;
      align-items: center;
      height: 100vh;
      overflow-y: auto; 
}

   #app_container{
    overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      justify-content: flex-start;
      height: 100vh; 
      overflow-y: hidden;
      flex-grow: 1;
   }

   #up_bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #383840FF;
    height: 50px;
    font-size: 30px; /* Imposta il font-size delle icone nel bar */
  }

   #home_page{
      display: flex;
      flex-direction: column;
      align-items: center;
      height: calc(100vh - 110px);
      overflow-y: auto; 
   }


   #account_interface{
      background-color: #1e1f23;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      flex-grow: 1; 
      max-height: calc(100vh - 110px);
      overflow-y: auto; 
      height: 100vh;
      font-family: 'Maven Pro';
    }



   #under_bar{
    display: flex; 
    justify-content: center; 
    align-items: center; 
    background-color: #383840FF; 
    height: 60px;
   
   }


   #publish_interface{
      background-color: #1e1f23;
      display: flex;
      flex-direction: column;
      align-items: center;
      flex-grow: 1; 
      max-height: calc(100vh - 110px);
      overflow-y: auto; 
      font-family: 'Maven Pro';
    }

    #publish_post_button{
      width: 50%;
      border-radius: 15px;
      background-color: #383840FF;
      border: transparent;
      padding: 10;
      color: white;
      font-family: 'Maven Pro';
      font-size: 16px;
    }


  /* CLASSI SENZA ID*/



  /* access_screen*/
  
  .access_card {
    display: flex;
    flex-direction: column;
    font-family: 'Maven Pro';
      padding: 10px 5px;
      padding-inline: 20px;
      width: 400px;
      background-color: #383840FF;
      border-radius: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    
    .access_card_title {
      font-size: 25px;
      font-weight: bold;
      color: white;
    }

    .access_button {
      font-family: 'Maven Pro';
      position: relative;
      padding: 5px 10px;
      font-size: 16px;
      background-color: #354f52;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      overflow: hidden;
      transition: background-color 0.3s ease;
    }

    .access_button:hover {
      background-color: #081c15
    }

    .access_button::before {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 100%;
      background-color: #2f3e46; 
      border-radius: 50%;
      z-index: -1;
      opacity: 0; 
      transition: opacity 0.3s ease;
    }

    .access_button:hover::before {
      opacity: 1; 
    }

    .access_label {
      font-size: 14px;
      font-weight: bold;
      color: white;
      font-family: 'Nunito Sans', sans-serif;
    }

    .access_imput {
      font-size: 14px;
      font-weight: bold;
      color: rgb(0, 0, 0);
      font-family: 'Maven Pro';
      background-color: #ffffff;
      border: transparent;
      border-radius: 8px;
    }

    .access_imput:focus {
      outline: 2px solid transparent; 
}

    .access_title {
      font-size: 30px;
      font-weight: bold;
      color: white;
      font-family: 'Nunito Sans', sans-serif;
    }


    /* ------------------------------------------------- */
 

      .bar_button{
        background-color: transparent;
        border: 0px;
     }

      .card {
        inline-size: 300px;
        padding: 20px;
        border-radius: 15px; /* Imposta il radius a 15px */
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        background-color: #383840FF;
        display: flex;
        align-items: center;
        color:white;
        width: 70%;
      }

      .card_text {
        font-size: 100%;
        margin-block-end: 10px;
      }   

      #up_bar .material-icons {
        font-size: 250%;
     }

     .mastrer_setting_div{
    align-items: center;
   }

   .settings_button{
     color: white;
     background-color: transparent;
     border-color: transparent;
     font-family: 'Nunito Sans', sans-serif;
    }

    .settings_div{
    display: flex;
    align-items: center;
    justify-content: flex-start;
    flex-direction: row;
    }
    
    .delete_account_card{
        width: 250px;
        border-radius: 12px;
        background-color: #383840FF;
        display: flex;
        text-align: center;
        justify-content: center;
    
    }

    .delete_account_button{
      border-radius: 15px;
      color: white;
      background-color: #1e1f23;
      border-color: transparent;
    }

    .delete_account_card_container{
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .divisor{
      background-color: white;
      height: 1px;
      width: 200px;
      margin-left: 20px; 
    }

    .category_description_text{
      font-family: 'Maven Pro';
      color: white;
      margin-left: 20px; 
      font-size: 12px;
      margin-bottom: 18px;
    }

    .link_settings_button{
      font-size: 14px;
      color: white;
      text-decoration: none;
      margin-left: 10px;
    }

    .divisor{
      background-color: white;
      height: 1px;
      width: 200px;
      margin-left: 20px; 
    }

    .text4{
      font-family: 'Maven Pro';
      color: white;
      font-size: 18px;
      margin-bottom: 18px;
    }

    .publish_imput {
      font-size: 14px;
      font-weight: bold;
      color: rgb(0, 0, 0);
      font-family: 'Maven Pro';
      background-color: #ffffff;
      border: transparent;
      border-radius: 8px;
      margin-left: 20px;
      width: 80%;
    }

    .publish_imput_preview_text{
     color: white;
     font-size: 15px;
     margin-left: 20px;
     text-align: left;
    }

    .publish_imput_container{
     display: flex;
     flex-direction: column;
     color: white;
     font-size: 15px;
     justify-content: left;
     align-items:start;
     text-align: left;
     width: 100%;
    }
  
    .publish_imput_main_container{
     display: flex;
     flex-direction: column;
     align-items: center;
     justify-content: center;
     width: 100%;
    }

    .image_container{
     display: flex;
     align-items: center;
     justify-content: center;
    }


</style>
</head>

<body>


  <div id="app_container">

 <div id="access_screen">  
  <br>
  <br>
  <img src="https://i.ibb.co/BTdcB5B/Trasparent-icon.png"  style="inline-size: 300px; block-size: 300px;">
  <h2 class="text2" style="color: white; text-align: center; padding-left: 21px; padding-right: 21px;">Scegli un'opzione per contunuare</h2>

<br>
      <div class="access_card">
        <h2 class="access_card_title">Accedi</h2>
        <label class="access_label" for="login-email">Email:</label> 
        <input class="access_imput" type="email" id="login-email" required="">
        <br>
        <label class="access_label" for="login-password">Password:</label> 
        <input class="access_imput" type="password" id="login-password" required="">
        <br>
        <br>
        <button class="access_button" onclick="login()">Accedi</button>
      </div>
      <h2 class="text2" style="color: white;">Oppure</h2>
      <div class="access_card">
        <h2 class="access_card_title">Registrati</h2>
        <label class="access_label" for="email">Email:</label> 
        <input class="access_imput" type="email" id="email" required="">
        <br>
        <label class="access_label" for="password">Password:</label> 
        <input class="access_imput" type="password" id="password" required="">
        <br>
        <br>
        <button class="access_button" onclick="register()">Registrati</button>
      </div>
      <br>

    </div>
 



    <div id="logged_interface">


      <div id="up_bar">
        <div style="margin-inline-start: 20px;"></div>
        <button id="notifications_button" class="bar_button"><i class="material-icons" style="color: white;">notifications</i></button>
        <div style="flex: 1;"></div>
        <img src="https://i.ibb.co/BTdcB5B/Trasparent-icon.png"  style="inline-size: 40px; block-size: 40px;">
        <div style="flex: 1;"></div>
        <button id="account_button" class="bar_button"><i class="material-icons" style="color: white;">account_circle</i></button>
        <div style="margin-inline-start: 20px;"></div>
      </div>

 
  
      <div id="home_page">
        <br>
        <br>
        <i class="material-icons" style="font-size: 120px; color:#fff;">query_stats</i>
  
    <br>
        <div class="card">
            <i class="material-icons" style="color:white; font-size: 30px">developer_mode</i>
            <div style="margin-inline-start: 20px;"></div>
            <h2 class="card_text">L'app è ancora in fase di sviluppo, pertanto, durante il suo utilizzo possono verificarsi dei bug</h2>
        </div>
    <br>
      <div class="card">   
          <i class="material-icons" style="color:white; font-size: 30px">volunteer_activism</i>
          <div style="margin-inline-start: 20px;"></div>
          <h2 class="card_text">Ricorda di mantenere un tono educato quando pubblichi un post </h2>
      </div>
    <br>
      <div class="card">
          <i class="material-icons" style="color:white; font-size: 30px">support_agent</i>
          <div style="margin-inline-start: 20px;"></div>
          <h2 class="card_text">Per qualsiasi violazione non esitare a contattarci a: <a href="mailto:ardugiack@gmail.com" style="color: white;">ardugiack@gmail.com</a></h2>
      </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    </div>



    <div id="account_interface">
    
      <br>
      <div class="master_settings_div">
      
        <h3 class="category_description_text">Gestione account</h3>
      
        <div class="settings_div">
          <div style="margin-inline-start: 20px"></div>
          <i class="material-icons" style="color: white;">lock_reset</i>
          <button class="settings_button" id="reset_password_button">Reset password</button>
      </div>
      
      <br>
      
      <div class="settings_div">
           <div style="margin-inline-start: 20px"></div>
          <i class="material-icons" style="color: white;">delete</i>
          <button class="settings_button" id="delete_account_button">Elimina il tuo account</button>
      </div>
      
      <br>
      <div class="divisor">
      </div>
      <h3 class="category_description_text">Legalità e trasparenza</h3>
      
      
      <div class="delete_account_card_container">
      
        <div class="delete_account_card">
          <div id="confirmation_form" style="display: none;">
          
              <h3 style="font-family: 'Maven Pro' ; color: white; font-size: 18px ; margin-top: 8px; margin-left: 8px; margin-right: 8px; ">Sei sicuro di voler eliminare il tuo account?</h3>
              <button class="delete_account_button" id="confirm_delete_button">Conferma</button>
              <button class="delete_account_button" id="cancel_delete_button">Annulla</button>
              <br>   <br>
            </div>
          </div>
        </div>
      
      
      
      <div class="settings_div">
          <div style="margin-inline-start: 20px"></div>
          <i class="material-icons" style="color: white;">policy</i>
          <a class="link_settings_button" href="https://sites.google.com/view/ardugiack/privacy-policy-trova-lavoro-velocemente">Politica sulla privacy</a>
      
      </div>
      
      <br>
      
      <div class="settings_div">
          <div style="margin-inline-start: 20px"></div>
          <i class="material-icons" style="color: white;">gavel</i>
          <a class="link_settings_button" href="https://sites.google.com/view/ardugiack/terms-of-use-trova-lavoro-velocemente">Termini di utilizzo</a>
      
      </div>
      
      
      
      <br>
      <div class="divisor">
      </div>
      <h3 class="category_description_text">Supporto e violazioni</h3>
      
      <div class="settings_div">
        <div style="margin-inline-start: 20px"></div>
        <i class="material-icons" style="color: white;">support_agent</i>
        <a class="link_settings_button" href="mailto:ardugiack@gmail.com">E-mail: ardugiack@gmail.com</a>
      
      </div>
      
      </div>
      
      <br>
      
      </div>




      <div id="publish_interface">
        <br>
        <h3 class="text4" style="margin-bottom: 5px;">Pubblica un post</h3>
        <div class="divisor">
          <br>
          </div>
            <br>
            <br>
         
            <div class="image_container">
            <img src="https://i.ibb.co/HFw4sGK/job-icon.png" style="width: 55%;">
            </div>
            <br>
        
        
        
            <div class="publish_imput_main_container">
              
          
              <div class="publish_imput_container">
                <p class="publish_imput_preview_text" style="margin-bottom: 5px;">Nome</p>
              <input class="publish_imput" id="name_publish_imput" required="">
             </div>
        
          <div class="publish_imput_container">
            <p class="publish_imput_preview_text" style="margin-bottom: 5px;">Città, regione</p>
          <input class="publish_imput" id="region_publish_imput" required="">
         </div>
        
          <div class="publish_imput_container">
            <p class="publish_imput_preview_text" style="margin-bottom: 5px;">Stipendio ideale</p>
          <input class="publish_imput" id="salary_publish_imput" required="">
         </div>
        
         <div class="publish_imput_container">
          <p class="publish_imput_preview_text" style="margin-bottom: 5px;">Descrizione</p>
        <input class="publish_imput" id="post_content_publish_imput" required="">
        </div>
        
        <div class="publish_imput_container">
          <p class="publish_imput_preview_text" style="margin-bottom: 5px;">Email</p>
        <input class="publish_imput" id="email_publish_imput" required="">
        </div>
        
        
        </div>
        <br>
        <br>
        
        <button id="publish_post_button">Pubblica</button>
        
        <br>
        <br>
        
        </div>
        




    <div id="under_bar">
      <div style="margin-inline-start: 20px;"></div>
      <button id="community_button" style="background-color: transparent; font-weight: bold; border: none; display: flex; flex-direction: column; align-items: center; color: white; font-family: 'Maven Pro';"><i class="material-icons" style="font-size: 35px;">search</i>Cerca</button>
      <div style="flex: 1;"></div>
      <button id="home_button" style="font-weight: bold; background-color: transparent; border: none; display: flex; flex-direction: column; align-items: center; color: white; font-family: 'Maven Pro';"><i class="material-icons" style="font-size: 35px;">home</i> Home</button>
      <div style="flex: 1;"></div>
      <button id="publish_button" style="font-weight: bold; background-color: transparent; border: none; display: flex; flex-direction: column; align-items: center; color: white; font-family: 'Maven Pro';"><i class="material-icons" style="font-size: 35px;">add_circle</i>Pubblica</button>
      <div style="margin-inline-start: 20px;"></div>
    </div>


  </div>

</div>






  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.6.4/firebase-database.js"></script>
  <script>


// BOTTONI

 
  document.getElementById("account_button").addEventListener("click", function() {
    
    document.getElementById("account_interface").style.display = "flex";
    document.getElementById("home_page").style.display = "none";
    document.getElementById("publish_interface").style.display = "none";
   
  });

  document.getElementById("home_button").addEventListener("click", function() {
  
  document.getElementById("home_page").style.display = "flex";
  document.getElementById("publish_interface").style.display = "none";
  document.getElementById("account_interface").style.display = "none";
});

document.getElementById("publish_button").addEventListener("click", function() {
  
  document.getElementById("publish_interface").style.display = "flex";
  document.getElementById("home_page").style.display = "none";
  document.getElementById("account_interface").style.display = "none";
});



    // Inizializza la tua app Firebase
    var firebaseConfig = {
      apiKey: "AIzaSyCG5r8MyZhMMtgTqtB-cN1Y3dVP8wsgSHM",
      authDomain: "trova-lavoro-velocemente-e6b54.firebaseapp.com",
      projectId: "trova-lavoro-velocemente-e6b54",
      storageBucket: "trova-lavoro-velocemente-e6b54.appspot.com",
      messagingSenderId: "SENDER_ID",
      appId: "1:1052964132261:android:d2aa415ee2ad2e4efcc44c"
    };
    firebase.initializeApp(firebaseConfig);
    firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)
  .then(function() {
    // Impostazione della persistenza dell'autenticazione avvenuta con successo

    // Verifica dello stato di autenticazione all'avvio
    firebase.auth().onAuthStateChanged(function(user) {
      if (user) {
        // L'utente è già loggato
        console.log("Utente già loggato");
        // Imposta la visibilità dei contenitori
        document.getElementById("publish_interface").style.display = "none";
        document.getElementById("access_screen").style.display = "none";
        document.getElementById("account_interface").style.display = "none";
        document.getElementById("logged_interface").style.display = "block";
        document.getElementById("home_page").style.display = "flex";
        document.getElementById("under_bar").style.display = "flex";
        document.getElementById("up_bar").style.display = "flex";
      } else {
        // L'utente non è loggato
        console.log("Utente non loggato");
        // Imposta la visibilità dei contenitori
        document.getElementById("access_screen").style.display = "flex";
        document.getElementById("logged_interface").style.display = "none";
      }
    });
    // Continua con il codice di autenticazione o recupera lo stato di accesso dell'utente
  })
  .catch(function(error) {
    // Gestisci gli errori
    console.log(error);
  });


    // Funzione di registrazione
    function register() {
      var email = document.getElementById("email").value;
      var password = document.getElementById("password").value;

      firebase.auth().createUserWithEmailAndPassword(email, password)
        .then(function(user) {
          // Registrazione avvenuta con successo
          console.log("Registrazione avvenuta con successo");

          // Nascondi il container iniziale
          document.getElementById("initial-container").style.display = "none";
          // Mostra il container vuoto
          document.getElementById("home_page").style.display = "block";
        })
        .catch(function(error) {
          // Gestisci gli errori di registrazione
          var errorCode = error.code;
          var errorMessage = error.message;
          console.log("Errore durante la registrazione:", errorCode, errorMessage);
        });
    }

    // Funzione di accesso
    function login() {
      var email = document.getElementById("login-email").value;
      var password = document.getElementById("login-password").value;

      firebase.auth().signInWithEmailAndPassword(email, password)
        .then(function(user) {
          // Accesso avvenuto con successo
          alert.log("Accesso avvenuto con successo");

          // Nascondi il container iniziale
          document.getElementById("initial-container").style.display = "none";
          // Mostra il container vuoto
          document.getElementById("home_page").style.display = "block";
        })
        .catch(function(error) {
          // Gestisci gli errori di accesso
          var errorCode = error.code;
          var errorMessage = error.message;
          console.log("Errore durante l'accesso:", errorCode, errorMessage);
        });
    }




    function deleteAccount() {
        const user = firebase.auth().currentUser;
    
        if (user) {
          // Elimina l'account dell'utente
          user.delete()
            .then(() => {
              // L'account è stato eliminato con successo
              alert("Account eliminato definitivamente.");
            })
            .catch((error) => {
              // Si è verificato un errore durante l'eliminazione dell'account
              alert("Si è verificato un errore durante l'eliminazione dell'account.");
              console.error(error);
            });
        } else {
          // L'utente non è stato trovato o non è effettuato l'accesso
          alert("Utente non trovato o accesso non effettuato.");
        }
      }
    
      document.getElementById("delete_account_button").addEventListener("click", function() {
        // Nascondi il pulsante e mostra il formulario di conferma
        document.getElementById("delete_account_button").style.display = "none";
        document.getElementById("confirmation_form").style.display = "block";
      });
    
      document.getElementById("confirm_delete_button").addEventListener("click", function() {
        // Chiamata alla funzione per eliminare l'account dell'utente
        deleteAccount();
    
        // Ripristina il pulsante e nascondi il formulario di conferma dopo l'eliminazione.
        document.getElementById("delete_account_button").style.display = "block";
        document.getElementById("confirmation_form").style.display = "none";
      });
    
      document.getElementById("cancel_delete_button").addEventListener("click", function() {
        // Ripristina il pulsante e nascondi il formulario di conferma senza eliminare i dati.
        document.getElementById("delete_account_button").style.display = "block";
        document.getElementById("confirmation_form").style.display = "none";
      });

      
  </script>
</body>
</html>
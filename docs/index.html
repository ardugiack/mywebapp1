<!DOCTYPE html>
<html>
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Maven+Pro">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
  <link rel="icon" type="image/x-icon" href="https://i.ibb.co/BTdcB5B/Trasparent-icon.png">
  <title>Trova lavoro velocemente</title>
  
<style>


     body {
      padding: 0;
      margin: 0;
      font-family: 'Maven Pro', sans-serif;
      background-color: #1e1f23;
   }

   /* CLASSI CON ID */

   #access_screen{
      font-family: 'Maven Pro';
      background-color: #1e1f23;
      display: flex;
      flex-direction: column;
      height: 100%;
      align-items: center;
      justify-content: center;
      overflow-y: auto; 
}

   #app_container{
    overflow: hidden;
      display: flex;
      flex-direction: column;
      align-items: stretch;
      justify-content: flex-start;
      block-size: 100vh; 
      overflow-y: hidden;
      flex-grow: 1;
   }

   #up_bar {
    display: flex;
    justify-content: space-between;
    align-items: center;
    background-color: #383840FF;
    block-size: 50px;
    font-size: 30px; /* Imposta il font-size delle icone nel bar */
  }

   #home_page{
      display: flex;
      flex-direction: column;
      align-items: center;
      block-size: calc(100vh - 110px);
      overflow-y: auto; 
   }


   #account_interface{
      background-color: #1e1f23;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      flex-grow: 1; 
      max-block-size: calc(100vh - 110px);
      overflow-y: auto; 
      block-size: 100vh;
      font-family: 'Maven Pro';
    }



   #under_bar{
    display: flex; 
    justify-content: center; 
    align-items: center; 
    background-color: #383840FF; 
    block-size: 60px;
   
   }


   #publish_interface{
    background-color: #1e1f23;
      display: flex;
      flex-direction: column;
      align-items: center;
      flex-grow: 1; 
      max-block-size: calc(100vh - 110px);
      overflow-y: auto; 
      block-size: 100vh;
      font-family: 'Maven Pro';
    }

    
      
   .forgot_password_card{
    background-color: #2f3e46;
    padding: 20px;
    border-radius: 15px;
    width: 70%;
    justify-content: center;
    align-items: center;
   }

 

  /* CLASSI SENZA ID*/



  /* access_screen*/

  .access_card {
      display: flex;
      flex-direction: column;
      font-family: 'Maven Pro';
      padding: 10px 5px;
      padding-inline: 20px;
      inline-size: 70%; 
      background-color: #383840FF;
      border-radius: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    
    .access_card_title {
      font-size: 25px;
      font-weight: bold;
      color: white;
    }

    .access_button {
      font-family: 'Maven Pro';
      position: relative;
      padding: 5px 10px;
      font-size: 16px;
      background-color: #354f52;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      overflow: hidden;
      transition: background-color 0.3s ease;
    }

    .access_button:hover {
      background-color: #081c15
    }

    .access_button::before {
      content: "";
      position: absolute;
      inset-block-start: 50%;
      inset-inline-start: 50%;
      transform: translate(-50%, -50%);
      inline-size: 100%;
      block-size: 100%;
      background-color: #2f3e46; 
      border-radius: 50%;
      z-index: -1;
      opacity: 0; 
      transition: opacity 0.3s ease;
    }

    .access_button:hover::before {
      opacity: 1; 
    }

    .access_label {
      font-size: 14px;
      font-weight: bold;
      color: white;
      font-family: 'Nunito Sans', sans-serif;
    }

    .access_imput {
      font-size: 14px;
      font-weight: bold;
      color: rgb(0, 0, 0);
      font-family: 'Maven Pro';
      background-color: #ffffff;
      border: transparent;
      border-radius: 8px;
    }

    .access_imput:focus {
      outline: 2px solid transparent; 
}

    .access_title {
      font-size: 30px;
      font-weight: bold;
      color: white;
      font-family: 'Nunito Sans', sans-serif;
    }


    /* ------------------------------------------------- */
 

      .bar_button{
        background-color: transparent;
        border: 0px;
     }

      .card {
        inline-size: 300px;
        padding: 20px;
        border-radius: 15px; /* Imposta il radius a 15px */
        box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        background-color: #383840FF;
        display: flex;
        align-items: center;
        color:white;
        inline-size: 70%;
      }

      .card_text {
        font-size: 100%;
        margin-block-end: 10px;
      }   

      #up_bar .material-icons {
        font-size: 250%;
     }

     .mastrer_setting_div{
    align-items: center;
   }

   .settings_button{
     color: white;
     background-color: transparent;
     border-color: transparent;
     font-family: 'Nunito Sans', sans-serif;
    }

    .settings_div{
    display: flex;
    align-items: center;
    justify-content: flex-start;
    flex-direction: row;
    }
    

    .delete_account_card{
        inline-size: 250px;
        border-radius: 12px;
        background-color: #383840FF;
        display: flex;
        text-align: center;
        justify-content: center;
    
    }

    .delete_account_button{
      border-radius: 15px;
      color: white;
      background-color: #1e1f23;
      border-color: transparent;
    }

    .delete_account_card_container{
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .divisor{
      background-color: white;
      block-size: 1px;
      inline-size: 200px;
      margin-inline-start: 20px; 
    }

    .category_description_text{
      font-family: 'Maven Pro';
      color: white;
      margin-inline-start: 20px; 
      font-size: 12px;
      margin-block-end: 18px;
    }

    .link_settings_button{
      font-size: 14px;
      color: white;
      text-decoration: none;
      margin-inline-start: 10px;
    }

    .divisor{
      background-color: white;
      block-size: 1px;
      inline-size: 200px;
      margin-inline-start: 20px; 
    }

    .text4{
      font-family: 'Maven Pro';
      color: white;
      font-size: 18px;
      margin-block-end: 18px;
    }

     /* PUBLISH INTERFACE */

    .publish_imput {
      font-size: 14px;
      font-weight: bold;
      color: rgb(0, 0, 0);
      font-family: 'Maven Pro';
      background-color: #ffffff;
      border: transparent;
      border-radius: 8px;
    
    }

    .publish_imput_preview_text{
     color: white;
     font-size: 15px;
     text-align: start;
    }


    .publish_imput_container input {
     text-align: start;
    }     

    .publish_imput_container{
       display: flex;
       flex-direction: column;
       justify-content: center;
       inline-size: 60%;
       text-align: start;
 

    }


    .image_container{
     display: flex;
     align-items: center;
     justify-content: center;
    }

    
    .center_content{
      inline-size: 100%;
      display: flex;
      flex-direction: row;
      align-items: center;
      justify-content: center;
    }

    .master_publish_imput_container{
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
    }


    #send_datas_button{
      border: transparent;
      border-radius: 12px;
      background-color: #354f52;
      color: white;
      font-family: 'Maven Pro';
      font-size: 14px;
      padding: 5px;
      inline-size: 30%;
    }


    /* SEARCH INTERFACE CSS */


    #search_interface{
      background-color: #1e1f23;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      flex-grow: 1; 
      max-block-size: calc(100vh - 110px);
      overflow-y: auto; 
      block-size: 100vh;
      font-family: 'Maven Pro';
    }

    .display_text{
      margin-inline-start: 20px;
      font-size: 13;
      color: white;
      font-weight: normal;
    }

    .preview_display_text{
      margin-inline-start: 20px;
      font-size: 15;
      color: white;
     
    }

    .center{
        display: flex;
        align-items: center;
        justify-content: center;
    }

    .landscape{
      display: flex;
      flex-direction: row;
      align-items: center;
    }

    .card6{
      inline-size: 90%;
      background-color: #383840FF;
      border-radius: 12px;
    }

    #reset_password_form{
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .reset_password_card{
      display: flex;
      flex-direction: column;
      border-radius: 13px;
      background-color: #383840FF;
      padding: 10px ;
      inline-size: auto;
    }

    #login_div{
      display: flex;
      align-items: center;
      flex-direction: column;
      inline-size: 100%;
    }


</style>
</head>

<body>


  <div id="app_container">

 <div id="access_screen">  

   <div id="login_div" style="width: 100%; height: 100%; justify-content: center; align-items: center;">
      <div class="access_card">
      <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; ">
        <p style="color: white; font-weight: bold; font-size: 25px;">Bentornato, accedi</p>
        <img src="https://i.ibb.co/BTdcB5B/Trasparent-icon.png"  style="inline-size: 50px; block-size: 50px;">
        </div>
        <label class="access_label" for="login-email">Email:</label> 
        <input class="access_imput" type="email" id="login-email" required="">
        <div style="margin-block-start: 15px;"></div>
        <label class="access_label" for="login-password">Password:</label> 
        <input class="access_imput" type="password" id="login-password" required="">
        <div style="display: flex; flex-direction: row;">
          <p style="color: white; text-align: center; font-size: 15px;">Non hai un account?</p> 
          <button id="signup_choise_button" style="background-color: transparent; color: #00b4d8; border: transparent; font-size: 15px; font-family: 'Maven Pro'; font-weight: bold;">Registrati</button>
          </div>
          <div style="justify-content: left;">
          <button id="forgot_password_button" style="background-color: transparent; color: #00b4d8; border: transparent; font-size: 15px; font-family: 'Maven Pro'; font-weight: bold; margin-bottom: 10px;">Password dimenticata?</button>
          </div>
          <button class="access_button" onclick="login()">Accedi</button>
        </div>
    
      </div>
 

   
     <div id="signup_div" style="display: none; width: 100%; height: 100%; align-items: center; justify-content: center;">
      <div class="access_card">
        <div style="display: flex; flex-direction: row; align-items: center; justify-content: space-between; ">
          <p style="color: white; font-weight: bold; font-size: 25px; margin-right: 20px;">Benvenuto, registrati</p>
          <img src="https://i.ibb.co/BTdcB5B/Trasparent-icon.png"  style="inline-size: 50px; block-size: 50px;">
          </div>
        <label class="access_label" for="email">Email:</label> 
        <input class="access_imput" type="email" id="email" required="">
        <div style="margin-block-start: 15px;"></div>
        <label class="access_label" for="password">Password:</label> 
        <input class="access_imput" type="password" id="password" required="">
        <div style="display: flex; flex-direction: row;">
          <p style="color: white; text-align: left; font-size: 15px;">Possiedi già un account?</p> 
          <button id="login_choise_button" style="background-color: transparent; color: #00b4d8; border: transparent; font-size: 15px; font-family: 'Maven Pro'; font-weight: bold;">Accedi</button>
          </div>
        <button class="access_button" onclick="register()">Registrati</button>
      </div>
    </div>
 

    <form id="reset_password_form" style="display: none; inline-size: 100%;">
      <div class="forgot_password_card">
      <h2 style="color: white;">Password dimenticata</h2>
      <div style="justify-content: center; align-items: center;">
      <input type="email" style="color: white; background-color: #212529; padding: 5px; border-radius: 12px; border: transparent;margin-bottom: 10px; width: 85%; font-family: 'Maven Pro';" id="emailInput" placeholder="Inserisci l'indirizzo email" required>
      </div>
      <div class="landscape" style="display: flex; flex-direction: row; justify-content: center; align-items: center;">
      <button type="button" id="resetPasswordBtn" style="border-radius: 12px; border: transparent; padding: 5px; background-color: #52796f; color: white; font-family: 'Maven Pro';">Invia mail</button>
      <div style="margin-inline-start: 20px"></div>
      <button type="button" id="cancel_forgot_password_button" style="border-radius: 12px; border: transparent; padding: 5px; background-color: #52796f; color: white; font-family: 'Maven Pro';">Annulla</button>
    </div>
  </div>
    </form>

    <div style="display: flex; flex-direction: row; flex-wrap: wrap; width: 95%; align-items: center; justify-content: center; margin-top: 30px;">
      <p style="color: white; font-size: 15px; margin: 0; white-space: nowrap;">Proseguendo accetti i</p>
      <a style="color: white; margin: 0; white-space: nowrap; margin-left: 5px; margin-right: 5px;" href="https://sites.google.com/view/ardugiack/terms-of-use-trova-lavoro-velocemente">Termini di utilizzo</a>
      <p style="color: white; font-size: 15px; margin: 0; white-space: nowrap;">e la</p>
      <a style="color: white; margin: 0; white-space: nowrap;" href="https://sites.google.com/view/ardugiack/privacy-policy-trova-lavoro-velocemente">Politica sulla privacy</a>
    </div>
    

    </div>
 



    <div id="logged_interface">



      <div id="up_bar">
        <div style="margin-inline-start: 20px;"></div>
        <button id="notifications_button" class="bar_button"><i class="material-icons" style="color: white;">notifications</i></button>
        <div style="flex: 1;"></div>
        <img src="https://i.ibb.co/BTdcB5B/Trasparent-icon.png"  style="inline-size: 40px; block-size: 40px;">
        <div style="flex: 1;"></div>
        <button id="account_button" class="bar_button"><i class="material-icons" style="color: white;">account_circle</i></button>
        <div style="margin-inline-start: 20px;"></div>
      </div>



 
  
      <div id="home_page">
        <div style="margin-block-end: 30px;"></div>
        <i class="material-icons" style="font-size: 120px; color:#fff;">query_stats</i>
        <div style="margin-block-end: 30px;"></div>
        <div class="card">
          <i class="material-icons" style="color:white; font-size: 30px">flag</i>
          <div style="margin-inline-start: 20px;"></div>
          <h2 class="card_text">Lasciare recensioni negative può impedire la nostra espansione e il conseguente migioramento dei nostri servizi, puoi inviare i tuoi suggerimenti a <a href="mailto:ardugiack@gmail.com" style="color: white;">ardugiack@gmail.com</a>, saranno tenuti in considerazione</h2>
      </div>
       <div style="margin-block-end: 30px;"></div>
        <div class="card">
            <i class="material-icons" style="color:white; font-size: 30px">developer_mode</i>
            <div style="margin-inline-start: 20px;"></div>
            <h2 class="card_text">L'app è in fase di lancio e di sviluppo, durante il suo utilizzo alcune funzioni potrebbero non essere disponibili, tali disagi sono dovuti al numero limitato di utenti che utilizzano la nostra app</h2>
        </div>
        <div style="margin-block-end: 30px;"></div>
      <div class="card">   
          <i class="material-icons" style="color:white; font-size: 30px">volunteer_activism</i>
          <div style="margin-inline-start: 20px;"></div>
          <h2 class="card_text">Ricorda di mantenere un tono educato quando pubblichi un post </h2>
      </div>
      <div style="margin-block-end: 30px;"></div>
      <div class="card">
          <i class="material-icons" style="color:white; font-size: 30px">support_agent</i>
          <div style="margin-inline-start: 20px;"></div>
          <h2 class="card_text">Per qualsiasi violazione non esitare a contattarci a: <a href="mailto:ardugiack@gmail.com" style="color: white;">ardugiack@gmail.com</a></h2>
      </div>
    <br>
    <br>
    <br>
    <br>
    <br>
    <br>
    </div>





    <div id="account_interface">
      
      <div style="margin-block-end: 30px;"></div>
       <div class="center">
       <img src="https://i.ibb.co/PcXz9y2/settings-icon.png" style="inline-size: 300px;">
     </div>
     
      <div class="master_settings_div">
      
        <h3 class="category_description_text">Gestione account</h3>
      
        <div class="settings_div">
          <div style="margin-inline-start: 20px;"></div>
          <i class="material-icons" style="color: white;">lock_reset</i>
          <button class="settings_button" id="reset_password_button">Reset password</button>
        </div>

      <br>

          
      <div class="settings_div">
        <div style="margin-inline-start: 20px"></div>
        <i class="material-icons" style="color: white;">logout</i>
        <button class="settings_button" id="logoutBtn">Disconnetti</button>
    </div>
      
      <br>
      
      <div class="settings_div">
           <div style="margin-inline-start: 20px"></div>
          <i class="material-icons" style="color: white;">delete</i>
          <button class="settings_button" id="delete_account_button">Elimina il tuo account</button>
      </div>
      
      <br>
      
      <div class="divisor">
      </div>
      <h3 class="category_description_text">Legalità e trasparenza</h3>
      


      <form id="reset_password_form" style="display: none; inline-size: 100%;">
        <div class="reset_password_card">
        <h2 style="color: white;">Reset password</h2>
        <input type="email" style="color: white; background-color: #212529; padding: 5px; border-radius: 12px; border: transparent; font-family: 'Maven Pro';" id="emailInput" placeholder="Inserisci l'indirizzo email" required>
        <br>
        <div class="landscape" style="display: flex; flex-direction: row; justify-content: center; align-items: center;">
        <button type="button" id="resetPasswordBtn" style="border-radius: 12px; border: transparent; padding: 5px; background-color: #52796f; color: white; font-family: 'Maven Pro';">Reset Password</button>
        <div style="margin-inline-start: 20px"></div>
        <button type="button" id="CancelResetPasswordBtn" style="border-radius: 12px; border: transparent; padding: 5px; background-color: #52796f; color: white; font-family: 'Maven Pro';">Annulla</button>
      </div>
    </div>
      </form>



      <div class="delete_account_card_container">
      
        <div class="delete_account_card">
          <div id="confirmation_form" style="display: none;">
          
              <h3 style="font-family: 'Maven Pro' ; color: white; font-size: 18px ; margin-block-start: 8px; margin-inline-start: 8px; margin-inline-end: 8px; ">Sei sicuro di voler eliminare il tuo account?</h3>
              <button class="delete_account_button" id="confirm_delete_button">Conferma</button>
              <button class="delete_account_button" id="cancel_delete_button">Annulla</button>
              <br>   
              <br>
            </div>
          </div>
        </div>
      
      <div class="settings_div">
          <div style="margin-inline-start: 20px"></div>
          <i class="material-icons" style="color: white;">policy</i>
          <a class="link_settings_button" href="https://sites.google.com/view/ardugiack/privacy-policy-trova-lavoro-velocemente">Politica sulla privacy</a>
      
      </div>
      
      <br>
      
      <div class="settings_div">
          <div style="margin-inline-start: 20px"></div>
          <i class="material-icons" style="color: white;">gavel</i>
          <a class="link_settings_button" href="https://sites.google.com/view/ardugiack/terms-of-use-trova-lavoro-velocemente">Termini di utilizzo</a>
      
      </div>
      
      
      
      <br>
      <div class="divisor">
      </div>
      <h3 class="category_description_text">Supporto e violazioni</h3>
      
      <div class="settings_div">
        <div style="margin-inline-start: 20px"></div>
        <i class="material-icons" style="color: white;">support_agent</i>
        <a class="link_settings_button" href="mailto:ardugiack@gmail.com">E-mail: ardugiack@gmail.com</a>
      
      </div>
      
      </div>
      
      <br>
      
      </div>






      <div id="publish_interface">
        <div style="margin-block-end: 20px;"></div>
        <h3 class="text4" style="margin-block-end: 5px;">Pubblica un post</h3>
        <div class="divisor">
          <br>
          </div>
          <div style="margin-block-end: 40px;"></div>
         
            <div class="image_container">
            <img src="https://i.ibb.co/HFw4sGK/job-icon.png" style="inline-size: 150px;">
            </div>
            <div style="margin-block-end: 20px;"></div>
            
        


       
         
            <div class="publish_imput_container">
          
              
                <p class="publish_imput_preview_text" style="margin-block-end: 5px;">Nome</p>
              <input class="publish_imput" id="name" required="">
            

   
            <p class="publish_imput_preview_text" style="margin-block-end: 5px;">Città, regione</p>
          <input class="publish_imput" id="region" required="">
       
        
 
            <p class="publish_imput_preview_text" style="margin-block-end: 5px;">Stipendio ideale</p>
          <input class="publish_imput" id="salary" required="">

      
          <p class="publish_imput_preview_text" style="margin-block-end: 5px;">Descrizione</p>
        <input class="publish_imput" id="description" required="">

        
      
          <p class="publish_imput_preview_text" style="margin-block-end: 5px;">Email</p>
        <input class="publish_imput" id="send_email" required="">
  
        
        
        </div>
   
  

        <div style="margin-block-end: 40px;"></div>
        
        
        <button id="send_datas_button" onclick="submitData()">Pubblica</button>
        
        </div>
        


       

        <div id="search_interface">


          <div style="margin-block-end: 80px;"></div>
          <div class="center">
          <img style="inline-size: 150px;" src="https://i.ibb.co/DgtSd6R/search-job.png">
        </div>

        <div style="margin-block-end: 40px;"></div>
      
         <div class="center">
          <div class="card6">
         <br> 
         <div class="landscape">
         <i class="material-icons" style="color: white; margin-inline-start: 20px;">store</i>
         <p id="company_name_display" class="display_text" style="margin-inline-start: 5px;">Carico...</p>
         </div>
      
         <div class="landscape">
          <i class="material-icons" style="color: white; margin-inline-start: 20px;">map</i>
         <p id="location_display" class="display_text" style="margin-inline-start: 5px;">Carico...</p>
        </div>
      
        <div class="landscape">
          <i class="material-icons" style="color: white; margin-inline-start: 20px;">payments</i>
         <p id="salary_display" class="display_text" style="margin-inline-start: 5px;">carico...</p>
        </div>
      
        <div class="landscape">
          <i class="material-icons" style="color: white; margin-inline-start: 20px;">description</i>
         <p id="post_content_display" style="margin-inline-end: 20px; margin-inline-start: 5px;" class="display_text">Carico...</p>
        </div>
      
        
        <div class="landscape">
          <i class="material-icons" style="color: white; margin-inline-start: 20px;">mail</i>
         <p id="mail_display" class="display_text" style="margin-inline-start: 5px;">Carico...</p>
        </div>
      </div>
      </div>
      
      <div style="margin-block-end: 40px;"></div>
      
         <div class="center">
         <i class="material-icons" style="color: white;">expand_less</i>
      </div>

         <p class="preview_display_text" style="margin-inline-start: 3%; margin-inline-end: 3%; inline-size: 94%; text-align: center;">*swipe up per trovare nuove candidature*</p>
      
      </div>
      


 




    <div id="under_bar">
      <div style="margin-inline-start: 20px;"></div>
      <button id="search_button" style="background-color: transparent; font-weight: bold; border: none; display: flex; flex-direction: column; align-items: center; color: white; font-family: 'Maven Pro';"><i class="material-icons" style="font-size: 35px;">search</i>Cerca</button>
      <div style="flex: 1;"></div>
      <button id="home_button" style="font-weight: bold; background-color: transparent; border: none; display: flex; flex-direction: column; align-items: center; color: white; font-family: 'Maven Pro';"><i class="material-icons" style="font-size: 35px;">home</i> Home</button>
      <div style="flex: 1;"></div>
      <button id="publish_button" style="font-weight: bold; background-color: transparent; border: none; display: flex; flex-direction: column; align-items: center; color: white; font-family: 'Maven Pro';"><i class="material-icons" style="font-size: 35px;">add_circle</i>Pubblica</button>
      <div style="margin-inline-start: 20px;"></div>
    </div>


  </div>

</div>






 
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-auth.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>




  <script>


// BOTTONI


 document.getElementById("forgot_password_button").addEventListener("click", function() {

   document.getElementById("login_div").style.display = "none";
   document.getElementById("reset_password_form").style.display = "flex";

  });

 document.getElementById("cancel_forgot_password_button").addEventListener("click", function() {
  
  document.getElementById("reset_password_form").style.display = "none";
  document.getElementById("login_div").style.display = "flex";
  
  });




  document.getElementById("signup_choise_button").addEventListener("click", function() {
    
    document.getElementById("signup_div").style.display = "flex";
    document.getElementById("login_div").style.display = "none";
   
  });

  document.getElementById("login_choise_button").addEventListener("click", function() {
    
    document.getElementById("login_div").style.display = "flex";
    document.getElementById("signup_div").style.display = "none";

   
  });

 
  document.getElementById("account_button").addEventListener("click", function() {
    
    document.getElementById("account_interface").style.display = "flex";
    document.getElementById("home_page").style.display = "none";
    document.getElementById("publish_interface").style.display = "none";
    document.getElementById("search_interface").style.display = "none";
   
  });

  document.getElementById("home_button").addEventListener("click", function() {
  
  document.getElementById("publish_interface").style.display = "none";
  document.getElementById("account_interface").style.display = "none";
  document.getElementById("search_interface").style.display = "none";
  document.getElementById("home_page").style.display = "flex";
 
});

document.getElementById("publish_button").addEventListener("click", function() {
  
  document.getElementById("home_page").style.display = "none";
  document.getElementById("account_interface").style.display = "none";
  document.getElementById("search_interface").style.display = "none";
  document.getElementById("publish_interface").style.display = "flex";

});


document.getElementById("search_button").addEventListener("click", function() {
  
  document.getElementById("publish_interface").style.display = "none";
  document.getElementById("home_page").style.display = "none";
  document.getElementById("account_interface").style.display = "none";
  document.getElementById("search_interface").style.display = "flex";



      // Ottieni un riferimento al database
      const database = firebase.database();

// Funzione per ottenere il valore da Firebase e visualizzarlo
function getValueAndDisplay() {
  const companyNameRef = database.ref('/WEB_companies_datas/XZXpRUAvBuN8NrlW9nUbvuRyW3f1/name');
  const companyLocationRef = database.ref('/WEB_companies_datas/XZXpRUAvBuN8NrlW9nUbvuRyW3f1/region');
  const companySalaryRef = database.ref('/WEB_companies_datas/XZXpRUAvBuN8NrlW9nUbvuRyW3f1/salary');
  const companyDescriptionRef = database.ref('/WEB_companies_datas/XZXpRUAvBuN8NrlW9nUbvuRyW3f1/description');
  const companyMailRef = database.ref('/WEB_companies_datas/XZXpRUAvBuN8NrlW9nUbvuRyW3f1/mail');

  // Leggi il valore da Firebase
  companyNameRef.once('value')
    .then(snapshot => {
      const companyNameValue = snapshot.val();
      // Visualizza il valore nell'elemento HTML
      const companyNameRef = document.getElementById('company_name_display');
      companyNameRef.innerText = companyNameValue;
    })

    companyLocationRef.once('value')
    .then(snapshot => {
      const companyLocationValue = snapshot.val();
      // Visualizza il valore nell'elemento HTML
      const companyLocationRef = document.getElementById('location_display');
      companyLocationRef.innerText = companyLocationValue;
    })

    companySalaryRef.once('value')
    .then(snapshot => {
      const companySalaryValue = snapshot.val();
      // Visualizza il valore nell'elemento HTML
      const companySalaryRef = document.getElementById('salary_display');
      companySalaryRef.innerText = companySalaryValue;
    })

    companyDescriptionRef.once('value')
    .then(snapshot => {
      const companyDescriptionValue = snapshot.val();
      // Visualizza il valore nell'elemento HTML
      const companyDescriptionRef = document.getElementById('post_content_display');
      companyDescriptionRef.innerText = companyDescriptionValue;
    })

    companyMailRef.once('value')
    .then(snapshot => {
      const companyMailValue = snapshot.val();
      // Visualizza il valore nell'elemento HTML
      const companyMailRef = document.getElementById('mail_display');
      companyMailRef.innerText = companyMailValue;
    })


    .catch(error => {
      console.error("Errore nell'ottenere il valore da Firebase:", error);
    });
}

// Chiamata alla funzione per ottenere e visualizzare il valore all'avvio
getValueAndDisplay();




});





    // Inizializza la tua app Firebase
    var firebaseConfig = {
      apiKey: "AIzaSyCG5r8MyZhMMtgTqtB-cN1Y3dVP8wsgSHM",
      authDomain: "trova-lavoro-velocemente-e6b54.firebaseapp.com",
      projectId: "trova-lavoro-velocemente-e6b54",
      storageBucket: "trova-lavoro-velocemente-e6b54.appspot.com",
      messagingSenderId: "SENDER_ID",
      appId: "1:1052964132261:android:d2aa415ee2ad2e4efcc44c"
    };
    firebase.initializeApp(firebaseConfig);
    firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)
  .then(function() {
    // Impostazione della persistenza dell'autenticazione avvenuta con successo

    // Verifica dello stato di autenticazione all'avvio
    firebase.auth().onAuthStateChanged(function(user) {
      if (user) {
        // L'utente è già loggato
        console.log("Utente già loggato");
        // Imposta la visibilità dei contenitori
        document.getElementById("publish_interface").style.display = "none";
        document.getElementById("access_screen").style.display = "none";
        document.getElementById("account_interface").style.display = "none";
        document.getElementById("search_interface").style.display = "none";
        document.getElementById("logged_interface").style.display = "block";
        document.getElementById("home_page").style.display = "flex";
        document.getElementById("under_bar").style.display = "flex";
        document.getElementById("up_bar").style.display = "flex";
      } else {
        // L'utente non è loggato
        console.log("Utente non loggato");
        // Imposta la visibilità dei contenitori
        document.getElementById("access_screen").style.display = "flex";
        document.getElementById("logged_interface").style.display = "none";
      }
    });
    // Continua con il codice di autenticazione o recupera lo stato di accesso dell'utente
  })
  .catch(function(error) {
    // Gestisci gli errori
    console.log(error);
  });



    // Funzione di registrazione
    function register() {
      var email = document.getElementById("email").value;
      var password = document.getElementById("password").value;

      firebase.auth().createUserWithEmailAndPassword(email, password)
        .then(function(user) {
          // Registrazione avvenuta con successo
          console.log("Registrazione avvenuta con successo");

          // Nascondi il container iniziale
          document.getElementById("initial-container").style.display = "none";
          // Mostra il container vuoto
          document.getElementById("home_page").style.display = "block";
        })

        .catch(function(error) {
    // Gestisci gli errori di registrazione
      var errorCode = error.code;
      var errorMessage = error.message;
    if (errorCode === "auth/email-already-in-use") {
      alert("L'indirizzo email è già in uso. Si prega di utilizzare un altro indirizzo.");
    } else {
      alert("Errore durante la registrazione. Si prega di riprovare più tardi.");
    }
   });
    }



   
  // Funzione di accesso
function login() {
  var email = document.getElementById("login-email").value;
  var password = document.getElementById("login-password").value;

  firebase.auth().signInWithEmailAndPassword(email, password)
    .then(function(user) {
      // Accesso avvenuto con successo
      alert("Accesso avvenuto con successo");

      // Nascondi il container iniziale
      document.getElementById("initial-container").style.display = "none";
      // Mostra il container vuoto
      document.getElementById("home_page").style.display = "block";
    })
    .catch(function(error) {
      // Gestisci gli errori di accesso
      var errorMessage = error.message;
      if (errorMessage.includes("password")) {
        alert("Password errata. Si prega di riprovare");
      } else {
        alert("Errore durante l'accesso: " + errorMessage);
      }
    });
}



// RESET PASSWORD ACCOUNT


  // Ottieni il riferimento agli elementi della finestra modale e del pulsante per aprire la finestra
  var resetPasswordForm = document.getElementById("reset_password_form");
  var resetPasswordButton = document.getElementById("reset_password_button");
  var CancelResetPasswordButton = document.getElementById("CancelResetPasswordBtn");
  
  CancelResetPasswordButton.addEventListener("click", function () {
    // Mostra il form per il reset della password
    resetPasswordForm.style.display = "none";
  });


  // Aggiungi un gestore di eventi al pulsante che apre il form per il reset della password
  resetPasswordButton.addEventListener("click", function () {
    // Mostra il form per il reset della password
    resetPasswordForm.style.display = "flex";
  });



 document.getElementById("resetPasswordBtn").addEventListener("click", function () {
    // Ottieni l'indirizzo email inserito dall'utente
    var email = document.getElementById("emailInput").value;

    // Invia l'email di reset password
    firebase.auth().sendPasswordResetEmail(email)
      .then(function() {
        // Email inviata con successo
        alert("Un'email di reset password è stata inviata al tuo indirizzo.");
      })
      .catch(function(error) {
        // Gestisci eventuali errori
        alert("Si è verificato un errore durante l'invio dell'email di reset password: " + error.message);
      });
  });


  // DISCONNESSIONE ACCOUNT


document.getElementById("logoutBtn").addEventListener("click", function () {
    // Disconnetti l'utente da Firebase
    firebase.auth().signOut().then(function() {
      // Operazione di disconnessione riuscita
      alert("Disconnesso con successo!");
    }).catch(function(error) {
      // Gestisci eventuali errori
      alert("Errore durante la disconnessione: " + error.message);
    });
  });


        // ELIMINAZIONE ACCOUNT
      

    function deleteAccount() {
        const user = firebase.auth().currentUser;
    
        if (user) {
          // Elimina l'account dell'utente
          user.delete()
            .then(() => {
              // L'account è stato eliminato con successo
              alert("Account eliminato definitivamente.");
            })
            .catch((error) => {
              // Si è verificato un errore durante l'eliminazione dell'account
              alert("Si è verificato un errore durante l'eliminazione dell'account.");
              console.error(error);
            });
        } else {
          // L'utente non è stato trovato o non è effettuato l'accesso
          alert("Utente non trovato o accesso non effettuato.");
        }
      }
    



      document.getElementById("delete_account_button").addEventListener("click", function() {
        // Nascondi il pulsante e mostra il formulario di conferma
        document.getElementById("delete_account_button").style.display = "none";
        document.getElementById("confirmation_form").style.display = "block";
      });
    
      document.getElementById("confirm_delete_button").addEventListener("click", function() {
        // Chiamata alla funzione per eliminare l'account dell'utente
        deleteAccount();
    
        // Ripristina il pulsante e nascondi il formulario di conferma dopo l'eliminazione.
        document.getElementById("delete_account_button").style.display = "block";
        document.getElementById("confirmation_form").style.display = "none";
      });
    
      document.getElementById("cancel_delete_button").addEventListener("click", function() {
        // Ripristina il pulsante e nascondi il formulario di conferma senza eliminare i dati.
        document.getElementById("delete_account_button").style.display = "block";
        document.getElementById("confirmation_form").style.display = "none";
      });



// Funzione per inviare i dati al database
function submitData() {
  var uid = firebase.auth().currentUser.uid;
  var name = document.getElementById("name").value;
  var region = document.getElementById("region").value;
  var salary = document.getElementById("salary").value;
  var description = document.getElementById("description").value;
  var send_email = document.getElementById("send_email").value;


  // Riferimento al percorso nel database usando l'UID e il bucket
  var databaseRef = firebase.database().ref("WEB_user_posts/" + uid);

  // Inserisci i dati nel database come oggetto
  databaseRef.set({
    name: name,
    region: region,
    salary: salary,
    description: description,
    email: send_email

  }).then(function() {
    // Operazione completata con successo
    alert("Dati inviati con successo al database!");
  }).catch(function(error) {
    // Gestisci eventuali errori
    alert("Si è verificato un errore durante l'invio dei dati: " + error);
  });
}

      
  </script>
</body>
</html>
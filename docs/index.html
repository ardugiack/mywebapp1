<!DOCTYPE html>
<html>
<head>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Maven+Pro">
  <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
  <link href="https://fonts.googleapis.com/css?family=Nunito+Sans&amp;display=swap" rel="stylesheet">
  <title>Web app 1</title>
  <style>




    body {
      font-family: 'Nunito Sans', sans-serif;
      background-color: #081c15;
      justify-content: center; /* Centra verticalmente */
      background-color: #081c15;
      margin: 0; 
      padding: 0; 
    }

    
    #access_screen {
     display: flex;
     flex-direction: column;
     align-items: center;
     justify-content: center;
     height: 100vh;
     width: 100%;
  
    }


  


#app_container {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  height: 100vh; /* Imposta l'altezza a 100% della altezza della finestra del browser */
  width:fit-content;
  overflow-y: hidden;
  flex-grow: 1; /* Fai espandere il container verticalmente */
}


    .up_bar {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #333533;
      width: 100%;
      height: 50px; 
    }


    .under_bar {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #333533;
      width: 100%;
      height: 50px;
    }

     #home_page {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: flex-start; 
      flex-grow: 1; 
      max-height: calc(100vh - 110px);
      overflow-y: auto; 
    }
   
    .card-title {
      font-size: 18px;
      font-weight: bold;
    }

    .card {
      padding-inline: 20px;
      width: 70%;
      background-color: #fff;
      border-radius: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    .card-content {
      padding: 16px;
    }

   
    .text2 {
      color: white;
    }

    .text3 {
      color: white;
      font-size: 30px;
    }
    
    #account_interface{
      background-color: #081c15;
      display: flex;
      flex-direction: column;
      justify-content: flex-start;
      flex-grow: 1; 
      max-height: calc(100vh - 110px);
      overflow-y: auto; 
    }

   .settings_button{
     color: white;
     background-color: transparent;
     border-color: transparent;
     font-family: 'Nunito Sans', sans-serif;
    }

    .settings_div{
    display: flex;
    justify-content: flex-start;
    flex-direction: row;
    }
    
    .access_card {
      padding: 10px 5px;
      padding-inline: 20px;
      width: 70%;
      background-color: #333533;
      border-radius: 15px;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }

    
    .access_card_title {
      font-size: 25px;
      font-weight: bold;
      color: white;
      font-family: 'Nunito Sans', sans-serif;
    }

    .access_button {
      position: relative;
      padding: 5px 10px;
      font-size: 16px;
      background-color: #354f52;
      color: #fff;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      overflow: hidden;
      transition: background-color 0.3s ease;
    }

    .access_button:hover {
      background-color: #081c15
    }

    .access_button::before {
      content: "";
      position: absolute;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      width: 100%;
      height: 100%;
      background-color: #2f3e46; /* Colore bianco con opacità */
      border-radius: 50%;
      z-index: -1; /* Posto dietro il bottone */
      opacity: 0; /* Inizialmente invisibile */
      transition: opacity 0.3s ease;
    }

    .access_button:hover::before {
      opacity: 1; /* Rendere visibile l'effetto di luce */
    }

    .access_label {
      font-size: 14px;
      font-weight: bold;
      color: white;
      font-family: 'Nunito Sans', sans-serif;
    }

    .access_imput {
      font-size: 14px;
      font-weight: bold;
      color: white;
      font-family: 'Nunito Sans', sans-serif;
      background-color: #95d5b2;
      border: transparent;
      border-radius: 6px;
    }

    .access_title {
      font-size: 30px;
      font-weight: bold;
      color: white;
      font-family: 'Nunito Sans', sans-serif;
    }

    .community_title {
    color: white;
    text-align: center;
    font-size: 30px;
    font-family: Nunito Sans;
    font-weight: bold;
  }

  .community_text {
    color: white;
    font-size: 14px;
    font-family: Nunito Sans;
    margin-top: 1px;
    margin-bottom: 1px;
  }

  .community_under_text {
    color: white;
    text-align: left;
    font-size: 14px;
    font-family: Nunito Sans;
  }



  #community_interface {
    overflow: auto;
    display: flex;
    flex-direction: column;
    max-height: calc(100vh - 110px);
    background-color: #081c15;
    align-items: center;
  }

  .community_div {
    display: flex;
    justify-content: center;
    flex-direction: row;
  }

  .community_card_content{
    display: flex;
    justify-content: center;
    flex-direction: column;
  }
  
  .community_card {
    padding: 10px 5px;
    padding-inline: 20px;
    width: 70%;
    background-color: #333533;
    border-radius: 15px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .material-icons {
    display: flex;
    align-items: center;
    font-size: 30px;
  }

  #publish_interface {
   display: flex;
  flex-direction: column;
  height: calc(100vh - 110px); /* Imposta l'altezza esplicita */
  overflow: auto; /* Permetti lo scrolling del contenuto */
  background-color: #081c15;
 
}


.publish_input {
      font-size: 14px;
      font-weight: bold;
      color: white;
      font-family: 'Nunito Sans', sans-serif;
      background-color: #25526b;
      border: transparent;
      border-radius: 6px;
      width: 70%;
      outline: #25526b;
      height: 25px;
      padding-left: 5px;
      padding-right: 5px;
    }
  

    .publish_input::placeholder {
    color: white 
}

    .landscape_div {
    display: flex;
    flex-direction: row;
    justify-content: center;
    }

    .apply-button {
  background-color: #25526b; 
  color: white; 
  border: none; 
  padding: 12px 20px; 
  font-size: 16px; 
  border-radius: 8px;
  cursor: pointer;
  transition: background-color 0.3s ease;
  width: 60%;
  font-size: 15px;
}


.apply-button:hover {
  background-color: #023047; 
}



  </style>
</head>
<body>

  <div id="app_container">
 
 
    <div id="access_screen">
      <h3 class="access_title">Benvenuto, pronto a svoltare la tua vita?</h3>
      <div class="access_card">
        <h2 class="access_card_title">Accedi</h2>
        <label class="access_label" for="login-email">Email:</label> 
        <input class="access_imput" type="email" id="login-email" required="">
        <br>
        <label class="access_label" for="login-password">Password:</label> 
        <input class="access_imput" type="password" id="login-password" required="">
        <br>
        <br>
        <button class="access_button" onclick="login()">Accedi</button>
      </div>
      <h2 class="text2">Oppure</h2>
      <div class="access_card">
        <h2 class="access_card_title">Registrati</h2>
        <label class="access_label" for="email">Email:</label> 
        <input class="access_imput" type="email" id="email" required="">
        <br>
        <label class="access_label" for="password">Password:</label> 
        <input class="access_imput" type="password" id="password" required="">
        <br>
        <br>
        <button class="access_button" onclick="register()">Registrati</button>
      </div>
    </div>
    


   


    <div id="logged_interface">


      <div class="up_bar" style="display: flex; justify-content: center; align-items: center; background-color: #333533; width: 100%;">
        <button id="notification_button" style="background-color: transparent; border: none;"><i class="material-icons" style="font-size: 35px; color: white;">notifications</i></button>
        <div style="margin-inline-start: 100px">
        </div><img src="https://i.ibb.co/0yNgDrT/bitcoin-logo-color-illustration-png.webp" style="width: 35px; height: 35px;" alt="bitcoin-logo-color-illustration-png">
        <div style="margin-inline-start: 100px">
        </div><button id="account_button" style="background-color: transparent; border: none;"><i class="material-icons" style="font-size: 35px; color: white;">account_circle</i></button>
      </div>

      <div id="home_page">
        <br>
        <style>




        body {
          font-family: 'Nunito Sans', sans-serif;
          background-color: #081c15;
        }

        .object1 {
          display: flex;
          justify-content: left;
         
        }

        .card {
          padding: 16px;
          background-color: #333533;
          color: white;
          border-radius: 12px;
          box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }

        canvas {
          width: 100%;
          height: 100%;
        }
        </style>


        <div class="object1">
          <div style="margin-inline-start: 10px;">
            <p class="text3">Benvenuto, Andrea</p>
          </div>
        </div>
        <div class="card">
          <div class="card-content">
            <h3 class="card-title">Andamento</h3>
            <p class="card-description">Riepilogo degli ultimi mesi</p>
            <div style="width: 100%; height: 100%;">
              <canvas id="myChart"></canvas>
            </div>
          </div>
        </div>
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> 
        <script>




        var data = {
          labels: ['Gennaio', 'Febbraio', 'Marzo', 'Aprile', 'Maggio'],
          datasets: [{
            label: 'Profitto',
            data: [2, 5, 10, 5, 17],
            fill: false,
            borderColor: 'white', 
            tension: 0.4
          }]
        };

        var options = {
          scales: {
            y: {
              beginAtZero: true,
              ticks: {
                color: 'white' 
              }
            },
            x: {
              ticks: {
                color: 'white'
              }
            }
          },
          plugins: {
            legend: {
              labels: {
                color: 'white'
              }
            }
          }
        };

        var ctx = document.getElementById('myChart').getContext('2d');
        new Chart(ctx, {
          type: 'line',
          data: data,
          options: options
        });
        </script>

        <br>
        <br>

        <div class="card" style="background-color: #333533; color: white;">
          <div class="card-content">
            <h3 class="card-title">Non perderti le ultime novità!</h3>
            <p class="card-description">Bicoin ha avuto una crescita di valore superiore a 1,9% sfiorando i 300.000 USD.</p>
            <p class="card-description">Segui la nostra conferenza per rimanere aggiornato e per discutere di strategie di trading e tanto altro</p><a href="https://www.google.com" class="card-link" style="color: #a1cca5;">Partecipa alla riunione</a>
          </div>
        </div>
        <br>
        <br>
       
    </div>



    <div id="publish_interface">
      <br>
      
    <div id="publish_interface">
      <br>
      <div style="display: flex; margin-left: 20px; flex-direction: row;">
       <p style="color: white; text-align: left;">Pubblica la tua richiesta di lavoro</p>
      </div>
      <div style="display: flex; margin-left: 20px; flex-direction: row;">
      <hr style="margin-top: 0px; width: 300px; margin-left: 0; border: none; height: 1px; background-color: #caf0f8;">
    </div>
    <br>
    <div class="landscape_div">
    <input class="publish_input" type="email" id="publish_email" required="" placeholder="E-mail di contatto">
    </div>
    <br>
    <div class="landscape_div">
    <input class="publish_input" type="email" id="publish_name" required="" placeholder="Nome e cognome">
    </div>
    <br>
    <div class="landscape_div">
    <input class="publish_input" type="email" id="publish_region" required="" placeholder="Città e regione">
    </div>
    <br>
    <div class="landscape_div">
    <input class="publish_input" type="email" id="publish_salary" required="" placeholder="Stipendio ideale">
    </div>
    <br>
    <div class="landscape_div">
    <input class="publish_input" type="email" id="publish_job" required="" placeholder="Tipologia lavoro">
    </div>
    <br>
    <br>
    <br>
    <div class="landscape_div">
    <button id="publish_button" class="apply-button" onclick="openLink()">Pubblica annuncio</button>
    </div>
    <br>
    
</div>



    </div>

     

    <div id="account_interface">
    
      <br>
      
      <div class="settings_div">
           <div style="margin-inline-start: 20px"></div>
          <i class="material-icons" style="color: white;">delete</i>
          <button class="settings_button" id="delete_account_button">Elimina il tuo account</button>
      </div>
      
      <br>
      
      <div class="settings_div">
          <div style="margin-inline-start: 20px"></div>
          <i class="material-icons" style="color: white;">policy</i>
          <button class="settings_button" id="privacy_policy_button">Politica sulla privacy</button>
      </div>
      
      <br>
      
      <div class="settings_div">
          <div style="margin-inline-start: 20px"></div>
          <i class="material-icons" style="color: white;">gavel</i>
          <button class="settings_button" id="therms_of_use_button">Termini di utilizzo</button>
      </div>
      
      <br>
      
      <div class="settings_div">
          <div style="margin-inline-start: 20px"></div>
          <i class="material-icons" style="color: white;">lock_reset</i>
          <button class="settings_button" id="reset_password_button">Reset password</button>
      </div>
      
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
      <br>
     
      </div>




      <div id="community_interface">
        <br>
        <p class="community_title">La tua community</p>
      
        <div class="community_card">
          <div class="community_card_content">
          <div class="community_div">
            <i class="material-icons" style="color: white;">person</i>
            <div style="margin-inline-start: 15px"></div>
            <p style="display: flex; justify-content: center; font-size: 15px; flex-direction: row; color: white; font-family: Nunito Sans;">Invita i tuoi amici a far parte di web app 1, tutti i membri che inviti entrano a far parte della tua community</p>
          </div>
            <p class="community_under_text">Utenti invitati: 4</p>
            </div>
        </div>
      
        <br>
        <br>
      
        <div class="community_card">
          <div class="community_card_content">
          <div class="community_div">
            <i class="material-icons" style="color: white;">subtitles</i>
            <div style="margin-inline-start: 15px"></div>
            <p style="display: flex; justify-content: center; font-size: 15px; flex-direction: row; color: white; font-family: Nunito Sans;">Per invitare un utente è necessario che il seguente codice venga inserito al momento della registrazione</p>
          </div>

            <div class="community_div" style="  display: flex; align-items: center; justify-content: center; ">
            <p class="community_under_text" style="font-size: 14px;">Codice referral:</p>
            <div style="margin-inline-start: 15px"></div>
            <p id="uid_paragraph" style="  background-color: transparent; color: white; font-size: 14px; width: 150px;  white-space: nowrap; overflow: hidden;  text-overflow: ellipsis; ">uid</p>
            <div style="margin-inline-start: 15px"></div>
            <button onclick="copyUserId()" style="background-color: transparent;border: transparent ;">
              <i class="material-icons" style="color: white; font-size: 25px; background-color: transparent;">content_copy</i>
            </button>
            <p id="uid_paragraph" style="color: white; font-family: Nunito Sans; font-size: 13px;"></p>
            
            
            
      
              </div>
      
            </div>
          </div>
      
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>
        <br>  
      
      </div>

  
    <div class="button-bar" style="display: flex; justify-content: center; align-items: center; background-color: #333533; width: 100%;">
      <button id="community_button" style="background-color: transparent; font-weight: bold; border: none; display: flex; flex-direction: column; align-items: center; color: white; font-family: 'Nunito Sans';"><i class="material-icons" style="font-size: 35px;">groups</i> Team</button>
      <div style="margin-inline-start: 100px"></div>
      <button id="home_button" style="font-weight: bold; background-color: transparent; border: none; display: flex; flex-direction: column; align-items: center; color: white; font-family: 'Nunito Sans';"><i class="material-icons" style="font-size: 35px;">home</i> Home</button>
      <div style="margin-inline-start: 100px"></div>
      <button id="analitycs_button" style="font-weight: bold; background-color: transparent; border: none; display: flex; flex-direction: column; align-items: center; color: white; font-family: 'Nunito Sans';"><i class="material-icons" style="font-size: 35px;">bar_chart</i> Trade</button>
    </div>

  </div>



</div>
 
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-app.js"></script> 
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-auth.js"></script> 
  <script src="https://www.gstatic.com/firebasejs/8.6.1/firebase-database.js"></script>
  <script>

    // Inizializza la tua app Firebase
    var firebaseConfig = {
      apiKey: "AIzaSyCG5r8MyZhMMtgTqtB-cN1Y3dVP8wsgSHM",
      authDomain: "trova-lavoro-velocemente-e6b54.firebaseapp.com",
      projectId: "trova-lavoro-velocemente-e6b54",
      storageBucket: "trova-lavoro-velocemente-e6b54.appspot.com",
      messagingSenderId: "SENDER_ID",
      appId: "1:1052964132261:android:d2aa415ee2ad2e4efcc44c"
    };

    firebase.initializeApp(firebaseConfig);
    firebase.auth().setPersistence(firebase.auth.Auth.Persistence.LOCAL)
      .then(function () {
     // Verifica dello stato di autenticazione all'avvio
     const accessScreen = document.getElementById('access_screen');
     const loggedInterface = document.getElementById('logged_interface');


    firebase.auth().onAuthStateChanged(function (user) {
      if (user) {
     // L'utente è già loggato
    console.log("Utente già loggato");
    accessScreen.style.display = "none";
    loggedInterface.style.display = "block";
    accountInterface.style.display = "none";
    communityInterface.style.display = "none";
    publishInterface.style.display = "none";
    homePage.style.display = "flex";
    

    // Ottieni l'UID dell'utente
    var uid = user.uid; 

    // Aggiorna il testo del paragrafo con l'UID
    var uidParagraph = document.getElementById("uid_paragraph");
    uidParagraph.textContent = uid;

    // Aggiungi un attributo data-clipboard-text al pulsante con l'UID
    var copyButton = document.querySelector("button[onclick='copyUserId()']");
    copyButton.setAttribute("data-clipboard-text", uid);

  } else {
    // L'utente non è loggato
    console.log("Utente non loggato");
    accessScreen.style.display = "flex"; 
    loggedInterface.style.display = "none";
  }
});

        
      })
      .catch(function (error) {
        console.log(error);
      });

      // Funzione per copiare l'UID negli appunti
      function copyUserId() {
      var uid = document.getElementById("uid_paragraph").textContent;
      var tempInput = document.createElement("input");
      tempInput.value = uid;
      document.body.appendChild(tempInput);
      tempInput.select();
      document.execCommand("copy");
      document.body.removeChild(tempInput);
      alert("Codice referral copiato negli appunti");
      }

    // Funzione di registrazione
    function register() {
      var email = document.getElementById("email").value;
      var password = document.getElementById("password").value;

      firebase.auth().createUserWithEmailAndPassword(email, password)
        .then(function (user) {
          console.log("Registrazione avvenuta con successo");

          document.getElementById("access_screen").style.display = "none";
          document.getElementById("logged_interface").style.display = "block";
        })
        .catch(function (error) {
          var errorCode = error.code;
          var errorMessage = error.message;
          console.log("Errore durante la registrazione:", errorCode, errorMessage);
        });
    }

    // Funzione di accesso
    function login() {
      var email = document.getElementById("login-email").value;
      var password = document.getElementById("login-password").value;

      firebase.auth().signInWithEmailAndPassword(email, password)
        .then(function (user) {
          console.log("Accesso avvenuto con successo");

          document.getElementById("access_screen").style.display = "none";
          document.getElementById("logged_interface").style.display = "block";
        })
        .catch(function (error) {
          var errorCode = error.code;
          var errorMessage = error.message;
          console.log("Errore durante l'accesso:", errorCode, errorMessage);
        });
    }



    


   
    //div
  const accountInterface = document.getElementById('account_interface');
  const homePage = document.getElementById('home_page');
  const publishInterface = document.getElementById('publish_interface');
  const communityInterface = document.getElementById('community_interface');


   //Bottoni
  const accountButton = document.getElementById('account_button');
  
  accountButton.addEventListener('click', function () {
    communityInterface.style.display = "none"
    publishInterface.style.display = "none";
    homePage.style.display = "none";
    accountInterface.style.display = "flex";
  });

  const homeButton = document.getElementById('home_button');

  homeButton.addEventListener('click', function () {
    accountInterface.style.display = "none";
    communityInterface.style.display = "none"
    publishInterface.style.display = "none";
    homePage.style.display = "flex";
  });

  const analitycsButton = document.getElementById('analitycs_button');

  analitycsButton.addEventListener('click', function () {
    accountInterface.style.display = "none";
    homePage.style.display = "none";
    communityInterface.style.display = "none"
    publishInterface.style.display = "flex";
    
  });

  const communityButton = document.getElementById('community_button');

  communityButton.addEventListener('click', function () {
    publishInterface.style.display = "none";
    accountInterface.style.display = "none";
    homePage.style.display = "none";
    communityInterface.style.display = "flex"
});


  </script>
</body>
</html>